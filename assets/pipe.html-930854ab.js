import{_ as n}from"./plugin-vue_export-helper-c27b6911.js";import{o as s,c as a,d as e}from"./app-62237bf4.js";const t={},p=e(`<p>pipe 对象被设计在lua中模拟终端的管道操作。</p><h2 id="pipe" tabindex="-1"><a class="header-anchor" href="#pipe" aria-hidden="true">#</a> pipe</h2><ul><li>type integer</li><li>payload any</li><li>clone fun(self: pipe): pipe</li></ul><h2 id="file" tabindex="-1"><a class="header-anchor" href="#file" aria-hidden="true">#</a> file()</h2><ul><li>原型</li></ul><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token comment">---@operator add(pipe):pipe</span>
<span class="token comment">---@operator sub(pipe):pipe</span>
<span class="token comment">---@vararg string</span>
<span class="token comment">---@return pipe</span>
<span class="token keyword">function</span> <span class="token function">file</span><span class="token punctuation">(</span><span class="token punctuation">...</span><span class="token punctuation">)</span> <span class="token keyword">end</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>介绍</li></ul><p>file 保存基于文件名的文件描述符。如果文件不存在，将会创建。</p><ul><li>示例</li></ul><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token keyword">local</span> a <span class="token operator">=</span> <span class="token function">file</span><span class="token punctuation">(</span><span class="token string">&quot;1.txt&quot;</span><span class="token punctuation">)</span> <span class="token comment">-- 单文件流</span>
<span class="token keyword">local</span> b <span class="token operator">=</span> <span class="token function">file</span><span class="token punctuation">(</span><span class="token string">&quot;2.txt&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;3.txt&quot;</span><span class="token punctuation">)</span> <span class="token comment">-- 多文件流</span>

 <span class="token operator">#</span> operator reload to reset file stream
<span class="token keyword">local</span> c <span class="token operator">=</span> a <span class="token operator">+</span> b <span class="token comment">-- 聚合文件流一起操作</span>
<span class="token keyword">local</span> d <span class="token operator">=</span> c <span class="token operator">-</span> <span class="token function">file</span><span class="token punctuation">(</span><span class="token string">&quot;2.txt&quot;</span><span class="token punctuation">)</span> <span class="token comment">-- 移除文件流，根据第二个参数</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="stream" tabindex="-1"><a class="header-anchor" href="#stream" aria-hidden="true">#</a> stream()</h2><ul><li>原型</li></ul><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token comment">---@param str string</span>
<span class="token comment">---@return pipe</span>
<span class="token keyword">function</span> <span class="token function">stream</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token keyword">end</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>介绍</li></ul><p>stream 转换字符串为 pipe 对象，它运行你使用运算符去操作文件流，就像终端的管道操作。</p><ul><li>示例</li></ul><div class="language-lua line-numbers-mode" data-ext="lua"><pre class="language-lua"><code><span class="token keyword">local</span> a <span class="token operator">=</span> <span class="token function">stream</span><span class="token punctuation">(</span><span class="token string">&quot;Hello World&quot;</span><span class="token punctuation">)</span> <span class="token operator">#</span> create pipe object
_ <span class="token operator">=</span> <span class="token function">file</span><span class="token punctuation">(</span><span class="token string">&quot;test.txt&quot;</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> a <span class="token comment">-- 覆盖写入 test.txt</span>

_ <span class="token operator">=</span> <span class="token function">file</span><span class="token punctuation">(</span><span class="token string">&quot;test.txt&quot;</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> a <span class="token comment">-- 追加写入 test.txt</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,17),l=[p];function o(i,c){return s(),a("div",null,l)}const d=n(t,[["render",o],["__file","pipe.html.vue"]]);export{d as default};
